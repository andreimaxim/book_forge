<div class="flex-1 max-w-lg">
  <h1 class="text-2xl font-bold text-gray-900">Filter Test</h1>
  <p class="mt-2 text-gray-600">Tests auto-submit on filter change.</p>

  <div class="mt-6">
    <form action="<%= stimulus_test_filter_path %>" method="get"
          data-controller="filter"
          data-testid="filter-form">
      <div class="mb-4">
        <label for="genre" class="block text-sm font-medium text-gray-700">Genre</label>
        <select name="genre" id="genre"
                data-action="change->filter#submit"
                class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 sm:text-sm">
          <option value="">All Genres</option>
          <option value="fiction" <%= "selected" if @genre == "fiction" %>>Fiction</option>
          <option value="non_fiction" <%= "selected" if @genre == "non_fiction" %>>Non-Fiction</option>
          <option value="poetry" <%= "selected" if @genre == "poetry" %>>Poetry</option>
        </select>
      </div>
    </form>

    <div data-testid="filter-results" class="mt-4 p-4 bg-gray-50 rounded-md">
      <% if @genre.present? %>
        <p class="text-gray-800">Showing results for: <strong><%= @genre.titleize %></strong></p>
      <% else %>
        <p class="text-gray-500">Showing all results.</p>
      <% end %>
    </div>
  </div>
</div>
