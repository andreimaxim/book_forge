<%
  record = result[:record]
  path = case result[:type]
         when "Author" then author_path(record)
         when "Publisher" then publisher_path(record)
         when "Agent" then agent_path(record)
         when "Prospect" then prospect_path(record)
         when "Book" then book_path(record)
         when "Deal" then deal_path(record)
         end

  icon = case result[:type]
         when "Author" then "users"
         when "Publisher" then "building"
         when "Agent" then "briefcase"
         when "Prospect" then "user-plus"
         when "Book" then "book"
         when "Deal" then "currency"
         end
%>

<%= link_to path, class: "block px-4 py-3 hover:bg-gray-50 transition-colors", data: { testid: "search-result-item" } do %>
  <div class="flex items-center gap-3">
    <div class="flex-shrink-0">
      <span class="inline-flex items-center justify-center h-8 w-8 rounded-full bg-gray-100 text-gray-500">
        <span class="text-xs font-medium"><%= result[:type][0..1] %></span>
      </span>
    </div>
    <div class="flex-1 min-w-0">
      <p class="text-sm font-medium text-gray-900 truncate">
        <%= result[:highlight].html_safe %>
      </p>
      <p class="text-xs text-gray-500"><%= result[:type] %></p>
    </div>
  </div>
<% end %>
